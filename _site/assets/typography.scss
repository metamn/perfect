/* Typography.scss
================================================================================

- Setting fonts, headers, forms, table et all
- Can use metrics, breakpoints, colors et all defined a priori in screen.scss
- It is the simplest possible

- The most used elements are:
  - headings
  - body text
  - lists
  - form
  - table
  - quote

*/



/* One font with rich variants */
@mixin font {
  font-family: 'Lato', sans-serif;
}


/* The single styling is the default underline */
@mixin link($type : normal) {
  a {
    color: $color;
    text-decoration: none;
    border-bottom: 2px solid;
  }
  
  @if $type == none {
    a {
      color: $color;
      border-bottom: none;
    }
  }
}


/* Long text like posts, with enhanced readability */
@mixin text($type : body) {
  @if $type == body {
    max-width: 43.75em; /* 700px; */
    line-height: 1.75;
    font-size: larger;
    
    @include link;
  }
}


/* Invert colors */
@mixin invert {
  color: $background;
  background: $color;
}



body {
  font-size: 100%;
  line-height: 1.25;
  
  background: $background;
  color: $color;
  
  @include font;
  @include link(none);
  
  .container {
  
    /* Headings
     ---------------------------------------------------------------------------
    */

    /* 
     - 'Traditional in em' scheme from http://lamb.cc/typograph/
     - They don't differ by size but decoration
    */

    h1, h2, h3 { font-size:1.5em; padding:1.45833em 0; }
    h4, h5, h6 { font-size:1.16667em; padding:1.51785em 0; }
    
    h2 {
      font-weight: 300;
    }
    
    h3 {
      font-variant: small-caps;
    }
    
    /* In non body text context the padding between consecutive headings must be adjusted */
    #header {
      hgroup {
        h1 {
          padding: 0;
        }
        
        h1 + h2 {
          padding: $pad 0;
        }
      }
    }
    


    /* Block level elements
    // -------------------------------------------------------------------------
    */

    /* the second <p> has a top margin */
    p + p {
	    margin-top: $pad;
    }

    /* blockquote is simply indented, enlarged */
    q, blockquote {
      display: block;
	    margin: $pad*2;
	    
	    border-left: 2px solid;
	    padding: $pad;
	    
	    font-size: larger;
	    font-style: italic;
	    
	    @include mobile {
	      margin: $pad 0;
	    }
    }

    /* address is small caps */
    address {
	    font-variant: small-caps;
    }


    /* Lists
    // -----------------------------------------------
    */

    ul, menu, dir, ol {
	    margin: $pad;
	    list-style: circle;
    }

    /* List counter will be hand styled */
    ol {
	    list-style: none;
	    margin-left: 0;
	    counter-reset: ol-counter;
	    
	    li {
	      counter-increment: ol-counter;
	      margin-bottom: $pad/2;
	      
	      &:before {
	        content: counter(ol-counter, decimal);
	        
	        border: 2px solid;
	        @include circle($pad);
	        
	        padding: 0 $pad/4 $pad/2;
	        display: inline-block;
	        
	        margin-right: $pad/2;
	      }
	    }
    }

    dl {
	    margin: $pad 0;
	
	    dt {
		    font-weight: bold;
		    text-transform: uppercase;
	    }
	    
      dd + dt {
        margin-top: $pad*2;
      }
    }



    /* Tables
    // -----------------------------------------------
    */

    
    table {
	    margin: $pad 0 $pad*2;
	
	    tbody {
		    border-top: 2px solid;
		    border-bottom: 2px solid;
	    }
	
	    td, th, tr {
  			text-align: left;
  			vertical-align: top;
  			padding: $pad/2;
  			
  			@include tablet-and-below {
	        padding: $pad/4;
	        font-size: smaller;
	      }
	    }
	    
	    th {
	      @include invert;
	    }
	
	    td {
	      border-bottom: 2px solid;
	    }
    }
    


    /* Text styles
    // -----------------------------------------------
    */
    
    em, i {
	    font-style: italic;
    }

    strong, b {
	    font-weight: bold;
    }




    /* Forms
    // -----------------------------------------------
    */


    /* Reset browser defaults */
    input, textarea, select {
	    border: none;
	    outline: 0;
	    background: $background;
	
	    appearance: none;
	    -webkit-appearance: none;
	    -moz-appearance: none;
    }

    /* Text */
    input[type='text'], input[type='email'], input[type='password'], textarea {
	    border: 1px solid transparent;
	    border-bottom: 1px solid;
	    font-style: italic;
	    color: $gray-3;
    }
    input[type='text']:focus, input[type='email']:focus, input[type='password']:focus, textarea:focus {
	    color: $color;
	    font-style: normal;
	    border: 1px solid $gray-3;
	    border-bottom: 1px solid;
    }

    /* Button */
    input[type='submit'] {		
	    background: $color;
	    color: $gray-1;
	    padding: $pad/2;
	    
	    &:hover {
	      cursor: pointer;
	      color: $background;
	    }
    }
    


    /* Cross browser compatible styling: http://www.inserthtml.com/2012/06/custom-form-radio-checkbox/
      - the checkbox and radio button is not displayed
      - instead a label is displayed which can be styled with 'content' 
    */

    
    input[type='radio'], input[type='checkbox'] {
      display: none;
    }
    input[type='radio'] + label, input[type='checkbox'] + label {
      display: inline-block;
    }

    
    input[type='radio'] + label:after {
	    content: '\2610';
	    margin-right: $pad/2;
    }
    input[type='radio']:checked + label:after {
	    content: '\25a3';
    }

    
    input[type='checkbox'] + label:before {
	    content: '\2610';
	    margin-right: $pad/4;
	
	    // This glyph is too small, so grow it
	    font-size: 200%;
	    line-height: .5;
	    vertical-align: top;
	
	    color: $gray-1;
    }
    input[type='checkbox']:checked + label:before {
      content: '\2611';
	    color: $color;
    }
    
    
    
    /* Select box 
      - put inside a <label class="select">
      - label:after is positioned over the original selectbox arrow
      - additionally padding & relative positioning must be overwritten later in the new context
    */
    
    select {
      border-bottom: 1px solid gray;
      cursor: pointer;
      width: 100%;
    }
    label.select:after {
      content: '\003E';
      float: right;
      
      display: inline-block;
      padding: 0 .45em;
      position: relative;
      left: 0;
      background: $background;
      
      
      pointer-events: none; /* this is a must */
      cursor: pointer;

      @include rotate(90deg);
      filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1);
    }

  }
}







